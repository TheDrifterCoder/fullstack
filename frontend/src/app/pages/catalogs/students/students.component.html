<div class="template__background ">

  <div class="container container--pall template__background__content">

    <div class="menu">
      <input type="text" [(ngModel)]="search" (keyup.enter)="buscarDatos()" class="menu__ssearch" placeholder="Busqueda por nombre y apellidos...">
      <button class="menu__filter" (click)="buscarDatos()"> Buscar </button>
      <button class="menu__filter" (click)="getStudents()"> Recargar </button>

      <div class="menu__right">
        <button class="menu__add" (click)="add()"> + Agregar </button>
        <button class="menu__delete" (click)="delete()"> Eliminar </button>
      </div>
    </div>
    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

      <!-- Checkbox Column -->
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
            [checked]="selection.isSelected(row)" [aria-label]="checkboxLabel(row)">
          </mat-checkbox>
        </td>
      </ng-container>

      <!-- Position Column -->
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef> No. </th>
        <td mat-cell *matCellDef="let element; let i = index"> {{ i + 1}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
        <td mat-cell *matCellDef="let element"> 
          <span (click)="goUpdate(element);">
            {{element.name}}
          </span> </td>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="patern_surname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Apellido Paterno </th>
        <td mat-cell *matCellDef="let element"> {{element.patern_surname}} </td>
      </ng-container>

      <ng-container matColumnDef="matern_surname">
        <th mat-header-cell *matHeaderCellDef> Apellido Materno </th>
        <td mat-cell *matCellDef="let element"> {{element.matern_surname}} </td>
      </ng-container>

      <ng-container matColumnDef="birth_date">
        <th mat-header-cell *matHeaderCellDef> Fecha de Nacimiento </th>
        <td mat-cell *matCellDef="let element"> {{element.birth_date}} </td>
      </ng-container>

      <ng-container matColumnDef="gender">
        <th mat-header-cell *matHeaderCellDef> Sexo </th>
        <td mat-cell *matCellDef="let element"> {{element.gender}} </td>
      </ng-container>

      <ng-container matColumnDef="academic_level">
        <th mat-header-cell *matHeaderCellDef> Grado de Estudio Actual </th>
        <td mat-cell *matCellDef="let element"> {{element.academic_level? element.academic_level : 'No definido' }}
        </td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let element"> {{element.email}} </td>
      </ng-container>

      <ng-container matColumnDef="phone">
        <th mat-header-cell *matHeaderCellDef> Tel√©fono </th>
        <td mat-cell *matCellDef="let element"> {{element.phone}} </td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
      </tr>
    </table>

    <mat-paginator [pageSizeOptions]="nPages" showFirstLastButtons></mat-paginator>
  </div>
</div>